<Window xmlns="https://github.com/avaloniaui"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:vm="using:GoombaCast.ViewModels"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		mc:Ignorable="d"
		x:Class="GoombaCast.Views.MainWindow"
		x:DataType="vm:MainWindowViewModel"
		Width="550" Height="600"
		Icon="/Assets/avalonia-logo.ico"
		Title="GoombaCast"
		CanResize="False"
		TransparencyLevelHint="AcrylicBlur"
		Background="Transparent"
		ExtendClientAreaToDecorationsHint="True"
		WindowStartupLocation="CenterScreen">

	<Design.DataContext>
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<Panel>
		<ExperimentalAcrylicBorder IsHitTestVisible="False">
			<ExperimentalAcrylicBorder.Material>
				<ExperimentalAcrylicMaterial
				BackgroundSource="Digger"
				TintColor="Black"
				TintOpacity="1"
				MaterialOpacity="0.65" />
			</ExperimentalAcrylicBorder.Material>
		</ExperimentalAcrylicBorder>

		<Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,*"
			  ColumnDefinitions="Auto,Auto,Auto,*"
			  ShowGridLines="False">

			<TextBlock FontSize="16" Grid.ColumnSpan="5" IsHitTestVisible="False" TextAlignment="Center" Margin="5">
				<Run Text="{Binding WindowTitle}"/>
			</TextBlock>

			<!-- TODO: Add a viewmodel control that has the text with stream timer, listeners, etc-->
			<Rectangle Grid.Row="1" Grid.ColumnSpan="5" Fill="Black" Height="160" Margin="5,0,5,0" VerticalAlignment="Top" />

			<Button x:Name="StreamStopStartButton" Grid.Row="2" Content="Start Stream" Background="Green" Margin="5" 
					HorizontalAlignment="Stretch" 
					HorizontalContentAlignment="Center"/>

			<Grid Grid.Row="3" RowDefinitions="Auto,Auto" ColumnDefinitions="*,*" Margin="5">
				<Button Grid.Column="0" Content="Record" 
						HorizontalAlignment="Stretch" 
						HorizontalContentAlignment="Center" />
				<Button Grid.Column="1" Content="Mixer" Margin="5,0,0,0"
						HorizontalAlignment="Stretch" 
						HorizontalContentAlignment="Center"/>
			</Grid>

			<StackPanel Grid.Row="2" Grid.Column="2" Orientation="Vertical" Grid.RowSpan="2" Spacing="5" Margin="5">
				<TextBlock FontSize="12" TextAlignment="Left" Margin="5,0,-5,-8">Stream Volume</TextBlock>
				<ProgressBar x:Name="LeftChannelVolume" Height="14" Margin="5,5,5,0"/>
				<TextBlock FontSize="12" TextAlignment="Center" Margin="6,-3,6,-3">
					-48 -42 -36 -30 -24 -18 -12 -6 0 dB
				</TextBlock>
				<ProgressBar x:Name="RightChannelVolume" Height="14" Margin="5,0,5,5"/>
			</StackPanel>

			<Button Grid.Row="2" Grid.Column="3" Margin="5"
					HorizontalAlignment="Stretch" 
					HorizontalContentAlignment="Center">
				Settings
			</Button>
			<Button x:Name="LogHideShowButton" Grid.Row="3" Grid.Column="3" Margin="5"
					HorizontalAlignment="Stretch" 
					HorizontalContentAlignment="Center"
					Click="ButtonClickToggleLog">
				Hide Log
			</Button>

			<Grid ShowGridLines="False" Grid.Row="4" Grid.ColumnSpan="4" ColumnSpacing="5"
				RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*,Auto" >
				<TextBlock Grid.Column="0" FontSize="10" Text="-24dB" TextAlignment="Left" VerticalAlignment="Center" Margin="5"/>
				<Slider Grid.Column="1" Value="{Binding VolumeLevel}" DockPanel.Dock="Top" />
				<TextBlock Grid.Column="2" FontSize="10" Text="+24dB" TextAlignment="Right" VerticalAlignment="Center" Margin="5"/>
			</Grid>

			<TextBox Grid.Row="5" Grid.ColumnSpan="4" x:Name="LogWindow" 
					 Text="{Binding LogLines}" Margin="5" IsReadOnly="True" TextWrapping="Wrap" />
		</Grid>
	</Panel>
</Window>
